<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/css/home.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet">
<!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.4/css/fontawesome.min.css"> -->
    <script src="https://kit.fontawesome.com/74894dafb2.js" crossorigin="anonymous"></script>
    <title><%= title %></title>
</head>
<body>
   <nav id="nav-section">
           <h1>Habit Tracker</h1>
       <div id="name-logout">
           <p>Welcome <span id="user_name"><%= user.name %></span></p>
           <p id="logout"><a href="/users/sign-out">Logout</a></p>
       </div>
   </nav>

   <div id="qutos">
            <h1>“Successful people have successful habits”</h1>
            <p>Start with a new habit today !</p>
   </div>

    <div id="input">
        <form action="/users/habit/create" method="POST" class="input-form">
            <input name="habit" type="text" placeholder="write your habbit here ..." required>
            <button type="submit" id="form-btn">+ Add Habits</button>
        </form>
      </div>

      <div id="symbol">
         <i class="fas fa-check-circle" style="color: rgb(143, 233, 58);"></i>
        -Done&emsp;&emsp;
        <i class="fas fa-times-circle" style="color: #E53C37;"></i>
        -Not Done&emsp;&emsp;
        <i class="fas fa-minus-circle" style="color: gold;"></i>
        -Unmarked&emsp;&emsp;
      </div>


  <div>


  <ul class="habit-list">
       <% for(let details of habits){%>   
    <li class="habit-list-item">
    <%let currentDate = new Date();
    let day = currentDate.getDate();
    let month = currentDate.getMonth() + 1;
    let year = currentDate.getFullYear();
    let today = day + "/" + month + "/" + year;
     %>
        <a href="status-update/?id=<%= details._id %>&date=<%= today %>" class="status">
                    <% if(details.dates.complete ==='yes'){ %>
                    <i class="fas fa-check-circle"></i>
                    <% } else if(details.dates.complete==='no'){ %>
                    <i class="fas fa-times-circle"></i>
                    <% } else { %>
                    <i class="fas fa-minus-circle"></i>
                    <% } %>
         </a>
       <div class="habit-list-item-name"><%= details.content %></div>
        <div>
            <a href="/favorite-habit/?id=<%= details._id %>" class="favorite">
           <% if(details.favorite) { %>
                      <i class="fa-regular fa-star"></i>
                       <% } else { %>
                      <i class="far fa-star"></i>
                  <% } %>
        </a>
        <a href="/remove/?id=<%= details._id %>" class="remove">
           <i class="fa-solid fa-trash"></i>
       </a>
        </div>
     </li> 


        <%}%>
 </ul>

  </div>


</body>
</html>